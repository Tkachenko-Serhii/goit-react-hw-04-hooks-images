{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","Api/Api.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","fetchImages","searchValue","page","a","fetch","then","response","ok","json","Promise","reject","error","Error","images","hits","popularImages","Searchbar","state","handleSearchValueChange","e","setState","currentTarget","value","toLowerCase","onSubmit","preventDefault","trim","props","toast","className","s","searchbar","form","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClick","id","webformatURL","largeImageURL","tags","item","src","alt","ImageGallery","gallery","map","Button","loadMore","Loader","color","height","width","loader","modalRoot","document","querySelector","Modal","handleModalClose","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","App","status","fullImg","showModal","handleFormSubmit","toggleModal","onCloseModal","prevState","prevProps","length","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.613f8a0e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__SmEpw\",\"form\":\"Searchbar_form__1To6V\",\"button\":\"Searchbar_button__23T_d\",\"label\":\"Searchbar_label__1yFpG\",\"input\":\"Searchbar_input__1JD8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__EDMwQ\",\"image\":\"ImageGalleryItem_image__37-To\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1lYH5\",\"modal\":\"Modal_modal__3pxw4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__TC6Dx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3ngrK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3KMN5\"};","async function fetchImages(searchValue, page) {\r\n  const images = await fetch(\r\n    `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=23056173-38182a6d52ebc31115cd52ab2&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject({\r\n      error: new Error(\r\n        `No images for you request: ${searchValue}, please enter more specific query!`\r\n      ),\r\n    });\r\n  });\r\n  return images.hits;\r\n}\r\n\r\nasync function popularImages(page) {\r\n  const images = await fetch(\r\n    `https://pixabay.com/api/?q=&page=${page}&key=23056173-38182a6d52ebc31115cd52ab2&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject({\r\n      error: new Error(\r\n        `No images for you request, please enter more specific query!`\r\n      ),\r\n    });\r\n  });\r\n\r\n  return images.hits;\r\n}\r\n\r\nexport { fetchImages, popularImages };\r\n","import { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    searchValue: \"\",\r\n  };\r\n\r\n  handleSearchValueChange = (e) => {\r\n    this.setState({ searchValue: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.searchValue.trim() === \"\") {\r\n      toast.error(\"Enter your search query!\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchValue);\r\n    this.setState({ searchValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.form} onSubmit={this.onSubmit}>\r\n          <button type='submit' className={s.button}>\r\n            <span className={s.label}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.input}\r\n            type='text'\r\n            autoComplete='off'\r\n            autoFocus\r\n            placeholder='Search images and photos'\r\n            onChange={this.handleSearchValueChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ image, onClick }) {\r\n  const { id, webformatURL, largeImageURL, tags } = image;\r\n\r\n  return (\r\n    <li className={s.item} key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.image}\r\n        onClick={() => {\r\n          onClick(largeImageURL);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.array,\r\n  toggleModal: PropTypes.func,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport { Component } from \"react\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  render() {\r\n    return (\r\n      <ul className={s.gallery}>\r\n        {this.props.images.map((image) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              image={image}\r\n              onClick={this.props.onClick}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n  onItemClick: PropTypes.func,\r\n};\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ loadMore }) {\r\n  return (\r\n    <button type='button' className={s.button} onClick={() => loadMore()}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Spinner from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <Spinner\r\n        type='ThreeDots'\r\n        color='#00BFFF'\r\n        height={100}\r\n        width={100}\r\n        className={s.loader}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleModalClose);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleModalClose);\r\n  }\r\n\r\n  handleModalClose = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src } = this.props;\r\n    return createPortal(\r\n      <>\r\n        <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n          <div className={s.Modal}>\r\n            <img src={src} alt='' />\r\n          </div>\r\n        </div>\r\n      </>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { fetchImages, popularImages } from \"./Api/Api\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\n\nimport \"./App.css\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    status: \"idle\",\n    fullImg: \"null\",\n    showModal: false,\n    page: 1,\n    searchValue: \"\",\n  };\n\n  async componentDidMount() {\n    const { page } = this.state;\n    const images = await popularImages(page);\n\n    this.setState({\n      images,\n      status: \"resolved\",\n    });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { searchValue, page } = this.state;\n\n    if (prevState.searchValue !== searchValue || prevState.page !== page) {\n      try {\n        this.setState({ status: \"pending\" });\n        const images = await fetchImages(searchValue, page);\n\n        if (images.length === 0) {\n          return toast.error(\n            \"No images for you request, please enter more specific query\"\n          );\n        }\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          status: \"resolved\",\n        }));\n\n        if (this.state.page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      } catch (error) {\n        this.setState({ error, status: \"rejected\" });\n      }\n    }\n  }\n\n  handleFormSubmit = (searchValue) => {\n    if (this.state.searchValue !== searchValue) {\n      this.setState({ searchValue, images: [], page: 1 });\n    }\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      fullImg: largeImageURL,\n    }));\n  };\n\n  onCloseModal = () => {\n    this.setState({ fullImg: null });\n  };\n\n  loadMore = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { status, images, fullImg, showModal } = this.state;\n\n    if (status === \"idle\") {\n      return (\n        <>\n          <ToastContainer autoClose={3000} />\n          <Searchbar onSubmit={this.handleFormSubmit} />\n        </>\n      );\n    }\n    if (status === \"pending\") {\n      return (\n        <>\n          <ToastContainer autoClose={3000} />\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <Loader />;\n        </>\n      );\n    }\n    if (status === \"resolved\") {\n      return (\n        <div className='App'>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ImageGallery images={images} onClick={this.toggleModal} />\n          <Button loadMore={this.loadMore} images={images} />\n          {showModal && <Modal src={fullImg} onClose={this.toggleModal} />}\n        </div>\n      );\n    }\n    if (status === \"rejected\") {\n      return toast.error(\n        \"No images for you request, please enter more specific query\"\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}