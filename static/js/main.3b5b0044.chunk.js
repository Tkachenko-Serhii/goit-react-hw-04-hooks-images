(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,r){e.exports={item:"ImageGalleryItem_item__EDMwQ",image:"ImageGalleryItem_image__37-To"}},14:function(e,t,r){e.exports={overlay:"Modal_overlay__1lYH5",modal:"Modal_modal__3pxw4"}},16:function(e,t,r){e.exports={gallery:"ImageGallery_gallery__TC6Dx"}},17:function(e,t,r){e.exports={button:"Button_button__3ngrK"}},19:function(e,t,r){e.exports={loader:"Loader_loader__3KMN5"}},24:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(5),c=r.n(o),s=(r(24),r(9)),i=r(3),u=r(4),l=(r(15),r(8)),b=r.n(l),j=r(12);function m(){return(m=Object(j.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(r,"&key=23056173-38182a6d52ebc31115cd52ab2&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject({error:new Error("No images for you request: ".concat(t,", please enter more specific query!"))})}));case 2:return n=e.sent,e.abrupt("return",n.hits);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?q=&page=".concat(t,"&key=23056173-38182a6d52ebc31115cd52ab2&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject({error:new Error("No images for you request, please enter more specific query!")})}));case 2:return r=e.sent,e.abrupt("return",r.hits);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=r(6),h=r.n(p),d=r(1);function O(e){var t=e.onSubmit,r=Object(n.useState)(""),a=Object(i.a)(r,2),o=a[0],c=a[1];return Object(d.jsx)("header",{className:h.a.searchbar,children:Object(d.jsxs)("form",{className:h.a.form,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):u.b.error("Enter your search query!")},children:[Object(d.jsx)("button",{type:"submit",className:h.a.button,children:Object(d.jsx)("span",{className:h.a.label,children:"Search"})}),Object(d.jsx)("input",{className:h.a.input,type:"text",autoComplete:"off",autoFocus:!0,value:o,placeholder:"Search images and photos",onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})})}var g=r(13),x=r.n(g);function y(e){var t=e.image,r=e.onClick,n=t.id,a=t.webformatURL,o=t.largeImageURL,c=t.tags;return Object(d.jsx)("li",{className:x.a.item,children:Object(d.jsx)("img",{src:a,alt:c,className:x.a.image,onClick:function(){r(o)}})},n)}var _=r(16),v=r.n(_);function w(e){var t=e.images,r=e.onClick;return Object(d.jsx)("ul",{className:v.a.gallery,children:t.map((function(e){return Object(d.jsx)(y,{image:e,onClick:r},e.id)}))})}var S=r(17),k=r.n(S);function N(e){var t=e.loadMore;return Object(d.jsx)("button",{type:"button",className:k.a.button,onClick:function(){return t()},children:"Load more"})}r(27);var C=r(18),q=r.n(C),E=r(19),T=r.n(E);function F(){return Object(d.jsx)(q.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,className:T.a.loader})}var M=r(14),I=r.n(M),L=document.querySelector("#modal-root");function D(e){var t=e.src,r=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]);return Object(o.createPortal)(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:I.a.overlay,onClick:function(e){e.target===e.currentTarget&&r()},children:Object(d.jsx)("div",{className:I.a.Modal,children:Object(d.jsx)("img",{src:t,alt:""})})})}),L)}r(48);var G="idle",B="pending",H="resolved",J="rejected";function P(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],a=t[1],o=Object(n.useState)(G),c=Object(i.a)(o,2),l=c[0],b=c[1],j=Object(n.useState)(null),p=Object(i.a)(j,2),h=p[0],g=p[1],x=Object(n.useState)(!1),y=Object(i.a)(x,2),_=y[0],v=y[1],S=Object(n.useState)(1),k=Object(i.a)(S,2),C=k[0],q=k[1],E=Object(n.useState)(""),T=Object(i.a)(E,2),M=T[0],I=T[1];Object(n.useEffect)((function(){M?(b(B),function(e,t){return m.apply(this,arguments)}(M,C).then((function(e){if(!e.length)return u.b.error("No images for you request, please enter more specific query");a((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),b(H)})).catch((function(e){b(J)})).finally((function(){C>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))):function(e){return f.apply(this,arguments)}(C).then((function(e){if(!e.length)return u.b.error("No images for you request, please enter more specific query");a((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),b(H)})).catch((function(e){b(J)})).finally((function(){C>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),[M,C]);var L=function(e){M!==e&&(I(e),a([]),q(1))};return l===G?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{autoClose:3e3}),Object(d.jsx)(O,{onSubmit:L})]}):l===B?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{autoClose:3e3}),Object(d.jsx)(O,{onSubmit:L}),Object(d.jsx)(F,{}),";"]}):l===H?Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(O,{onSubmit:L}),Object(d.jsx)(w,{images:r,onClick:function(e){_||(v(!_),g(e))}}),Object(d.jsx)(N,{loadMore:function(){q((function(e){return e+1}))},images:r}),Object(d.jsx)(u.a,{autoClose:3e3}),_&&Object(d.jsx)(D,{src:h,onClose:function(){g(null),v(!1)}})]}):l===J?u.b.error("No images for you request, please enter more specific query"):void 0}c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(P,{})}),document.getElementById("root"))},6:function(e,t,r){e.exports={searchbar:"Searchbar_searchbar__SmEpw",form:"Searchbar_form__1To6V",button:"Searchbar_button__23T_d",label:"Searchbar_label__1yFpG",input:"Searchbar_input__1JD8b"}}},[[49,1,2]]]);
//# sourceMappingURL=main.3b5b0044.chunk.js.map