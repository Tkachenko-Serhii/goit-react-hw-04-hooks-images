(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={item:"ImageGalleryItem_item__EDMwQ",image:"ImageGalleryItem_image__37-To"}},12:function(e,t,n){e.exports={overlay:"Modal_overlay__1lYH5",modal:"Modal_modal__3pxw4"}},16:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__TC6Dx"}},17:function(e,t,n){e.exports={button:"Button_button__3ngrK"}},19:function(e,t,n){e.exports={loader:"Loader_loader__3KMN5"}},24:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),s=(n(24),n(13)),i=n(3),u=n(4),l=(n(14),n(10)),b=n.n(l),j=n(15);function m(){return(m=Object(j.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(n,"&key=23056173-38182a6d52ebc31115cd52ab2&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject({error:new Error("No images for you request: ".concat(t,", please enter more specific query!"))})}));case 2:return r=e.sent,e.abrupt("return",r.hits);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=n(6),d=n.n(f),h=n(1);function p(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(h.jsx)("header",{className:d.a.searchbar,children:Object(h.jsxs)("form",{className:d.a.form,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("Enter your search query!")},children:[Object(h.jsx)("button",{type:"submit",className:d.a.button,children:Object(h.jsx)("span",{className:d.a.label,children:"Search"})}),Object(h.jsx)("input",{className:d.a.input,type:"text",autoComplete:"off",autoFocus:!0,value:c,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var O=n(11),g=n.n(O);function x(e){var t=e.image,n=e.onClick,r=t.id,a=t.webformatURL,c=t.largeImageURL,o=t.tags;return Object(h.jsx)("li",{className:g.a.item,children:Object(h.jsx)("img",{src:a,alt:o,className:g.a.image,onClick:function(){n(c)}})},r)}var _=n(16),v=n.n(_);function y(e){var t=e.images,n=e.onClick;return Object(h.jsx)("ul",{className:v.a.gallery,children:t.map((function(e){return Object(h.jsx)(x,{image:e,onClick:n},e.id)}))})}var S=n(17),w=n.n(S);function N(e){var t=e.loadMore;return Object(h.jsx)("button",{type:"button",className:w.a.button,onClick:function(){return t()},children:"Load more"})}n(27);var k=n(18),C=n.n(k),E=n(19),q=n.n(E);function F(){return Object(h.jsx)(C.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,className:q.a.loader})}var M=n(12),T=n.n(M),I=document.querySelector("#modal-root");function L(e){var t=e.src,n=e.onClose;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return Object(c.createPortal)(Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:T.a.overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(h.jsx)("div",{className:T.a.Modal,children:Object(h.jsx)("img",{src:t,alt:""})})})}),I)}n(48);var D="idle",G="pending",B="resolved",J="rejected";function H(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(D),o=Object(i.a)(c,2),l=o[0],b=o[1],j=Object(r.useState)(null),f=Object(i.a)(j,2),d=f[0],O=f[1],g=Object(r.useState)(!1),x=Object(i.a)(g,2),_=x[0],v=x[1],S=Object(r.useState)(1),w=Object(i.a)(S,2),k=w[0],C=w[1],E=Object(r.useState)(""),q=Object(i.a)(E,2),M=q[0],T=q[1];Object(r.useEffect)((function(){M&&(b(G),function(e,t){return m.apply(this,arguments)}(M,k).then((function(e){if(!e.length)return u.b.error("No images for you request, please enter more specific query");a((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),b(B)})).catch((function(e){b(J)})))}),[M,k]),Object(r.useEffect)((function(){k>1&&(console.log(k),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}),[k]);var I=function(e){M!==e&&(T(e),a([]),C(1))};return l===D?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{autoClose:3e3}),Object(h.jsx)(p,{onSubmit:I})]}):l===G?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{autoClose:3e3}),Object(h.jsx)(p,{onSubmit:I}),Object(h.jsx)(F,{}),";"]}):l===B?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(p,{onSubmit:I}),Object(h.jsx)(y,{images:n,onClick:function(e){_||(v(!_),O(e))}}),Object(h.jsx)(N,{loadMore:function(){C((function(e){return e+1}))},images:n}),_&&Object(h.jsx)(L,{src:d,onClose:function(){O(null),v(!1)}})]}):l===J?u.b.error("No images for you request, please enter more specific query"):void 0}o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__SmEpw",form:"Searchbar_form__1To6V",button:"Searchbar_button__23T_d",label:"Searchbar_label__1yFpG",input:"Searchbar_input__1JD8b"}}},[[49,1,2]]]);
//# sourceMappingURL=main.96d9c9ec.chunk.js.map